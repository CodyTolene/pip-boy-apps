function PortaHack(){function _(){b.setColor(k).fillRect(0,0,I,J)}function $(){if(s<0||s>H)throw new Error('Invalid number of attempts remaining: '+s);b.setColor(k).fillRect(q);const a=C.padding;const d=C.textHeight;let c=s+' ATTEMPT(S) LEFT: ';for(let b=0;b<s;b++)c+='['+(b+1)+'] ';b.setColor(i).setFont(z).setFontAlign(-1,-1).drawString(c,q.x1+a,q.y1+d+a)}function r(a){if(!W)return;b.setColor(Y).drawRect(a)}function h(){const q=7;const e=a<f;const g=e?v:y;const p=e?0:f;const j=e?n[a]:o[a-p];const r=j.line;const c=g.y1+(a-p)*10;const t=g.x1+2+(q+d)*6;if(h.prevRow!==void 0&&h.prevCol!==void 0){const c=h.prevRow<f;const a=c?v:y;const e=c?0:f;const g=c?n[h.prevRow]:o[h.prevRow-e];const d=a.y1+(h.prevRow-e)*10;const j='0xF'+(2404+h.prevRow).toString(16).padStart(3,'0');b.setColor(k).fillRect(a.x1,d,a.x2,d+10),b.setColor(i).setFont('6x8').setFontAlign(-1,-1),b.drawString(j+' '+g.line,a.x1+2,d)}h.prevRow=a,h.prevCol=d;const s='0xF'+(2404+a).toString(16).padStart(3,'0');if(b.setFont('6x8').setFontAlign(-1,-1),b.setColor(i).drawString(s+' '+r,g.x1+2,c),d>=j.embedAt&&d<j.embedAt+(e?l[a].length:m[a-p].length)){const f=e?l[a]:m[a-p];const d=g.x1+2+(q+j.embedAt)*6;b.setColor(i).fillRect(d,c,d+f.length*6,c+10),b.setColor(k).drawString(r.substr(j.embedAt,f.length),d,c)}else{const a=g.x1+2+(q+d)*6;b.setColor(i).fillRect(a,c,a+6,c+10),b.setColor(k).drawString(r[d],a,c)}}function a0(){b.setColor(k).fillRect(t);const a='ROBCO INDUSTRIES (TM) '+U+' v'+V+' PROTOCOL';b.setColor(i).setFont(z).setFontAlign(-1,-1).drawString(a.toUpperCase(),t.x1+A.padding,t.y1+A.padding)}function a1(){const c=10;const f=Math.floor((j.y2-j.y1)/c);const a=e.slice(-f);b.setColor(k).fillRect(j),b.setFont('6x8').setFontAlign(-1,-1);const d={};for(let e=0;e<a.length;e++){const k=j.y2-c*(a.length-e);const f=a[e];const g=f==='> Recheck Fail';const h=f.startsWith('> ')?f:'';const l=!g&&d[h];d[h]=!0,b.setColor(g?i:l?Z:i),b.drawString(f,j.x1+2,k)}}function R(d,a,e,f,g){const c=10;b.setFont('6x8').setFontAlign(-1,-1);for(let h=0;h<d.length;h++){const g='0xF'+(e+h).toString(16).padStart(3,'0');const d=f[h];if(!d||(typeof d.line)[1]!='t'){const a=`Invalid junk line at ${h}: ${JSON.stringify(d)}`;throw new Error(a)}const j=d.line;const k=a.y1+h*c;b.setColor(i).drawString(g+' '+j,a.x1+2,k)}}function a2(){b.setColor(k).fillRect(u);const a=s<=1;const c=a?'!!! WARNING: LOCKOUT IMMINENT !!!':'ENTER PASSWORD NOW';b.setColor(i).setFont(z).setFontAlign(-1,-1).drawString(c,u.x1+B.padding,u.y1+B.padding)}function S(e,b){const c='{}[]<>?/\\|!@#$%^&*()-_=+;:"\',.`~ABCDEFGHIJKLMNOPQRSTUVWXYZ';let a='';const d=Math.random()*(e-b.length)|0;for(let f=0;f<e;f++)f===d?(a+=b,f+=b.length-1):a+=c[Math.random()*c.length|0];return{line:a,embedAt:d}}function a3(c){let b=Date.now();if(b-P<O)return;if(P=b,c===0)F();else{a=(a+(c<0?1:-1)+D)%D;const b=a<f;const g=b?0:f;const e=b?n[a]:o[a-g];const i=b?l[a]:m[a-g];d>=e.embedAt&&d<e.embedAt+i.length&&(d=e.embedAt),h()}}function a4(){let a=Date.now();if(a-Q<O)return;Q=a,F()}function a5(){T(),x&&clearInterval(x),bC.clear(1).flip(),E.reboot()}function a6(b){if(b===0)F();else{const g=a<f;const i=g?0:f;const c=g?n[a]:o[a-i];const j=g?l[a]:m[a-i];const k=c.line.length;const p=d>=c.embedAt&&d<c.embedAt+j.length;let e=1;p&&(b>0?e=Math.max(1,c.embedAt+j.length-d):e=Math.max(1,d-c.embedAt)),d=(d+(b>0?e:-e)+k)%k,h()}}function a7(){const a=[1,5,10,15,20];const b=a.findIndex(a=>a===Pip.brightness);const c=(b+1)%a.length;Pip.brightness=a[c],Pip.updateBrightness()}function a8(){BTN_PLAY.read()&&a4()}function T(){Pip.removeAllListeners(L),Pip.removeAllListeners(M),Pip.removeAllListeners(N)}function F(){const c=a<f;const h=c?0:f;const b=c?n[a]:o[a-h];const i=c?l[a]:m[a-h];const k=d>=b.embedAt&&d<b.embedAt+i.length;const p=10;const g=Math.floor((j.y2-j.y1)/p);k?(w=b.line.substr(b.embedAt,i.length),e.includes('> '+w)?(e.length>=g-1&&(e=e.slice(2)),e.push('> '+w),e.push('> Recheck Fail')):(e.length>=g&&e.shift(),e.push('> '+w))):(w=b.line[d],e.length>=g&&e.shift(),e.push('> ['+w+']')),a1()}function a9(){Pip.on(L,a3),Pip.on(M,a6),Pip.on(N,a7)}function aa(){const a=l.length;const b=m.length;if(a===0||b===0)throw new Error('Password lists cannot be empty');if(n=l.map(a=>S(12,a)),o=m.map(a=>S(12,a)),n.length!==a||o.length!==b)throw new Error('Mismatch between password lists and junk lines')}const G={};const U='Porta Hack';const V='1.0.0';const W=!1;const X=16.666666666666668;const H=4;let s=H;let x=null;const p=8;const z='6x'+p;const b=g;const I=g.getWidth();const J=g.getHeight();const c={x1:60,x2:I-60,y1:10,y2:J-10};const A={height:p+4,padding:2,textHeight:p};const t={x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y1+A.height};const B={height:p+4,padding:2,textHeight:p};const u={x1:c.x1,x2:c.x2,y1:t.y2,y2:t.y2+B.height};const C={height:p*3+2+2,padding:2,textHeight:p};const q={x1:c.x1,x2:c.x2,y1:u.y2,y2:u.y2+C.height};const v={x1:c.x1,x2:c.x1+(c.x2-c.x1)*.35,y1:q.y2,y2:c.y2};const y={x1:v.x2,x2:v.x2+(c.x2-c.x1)*.35,y1:q.y2,y2:c.y2};const j={x1:y.x2,x2:c.x2,y1:q.y2,y2:c.y2};let e=[];const k='#000000';const Y='#ffffff';const i='#00ff00';const ab='#007f00';const Z='#003300';const K=['HACK','BIKE','HIKE','VOID','VEIN','RAINING','NULL','PULLING','DATA','BAIT','HOARD','ROOTING','HEX','DEBUG','SCRIPT','LOGIC','STACK','ARRAY','OBJECT','STRINGING','BRINGING','MODULE','IMPORT','EXPORT','EVENT','REACT','PACK','BACK','HANK','HARK','HALL','LIKE','PIKE','BAKE','BITE','BIND','VINE','VILE','VOYAGE','MOID','SOIL','GAINING','PAINTED','RAVINGS','MAILING','WAILING','RAILING','ARROW','SUBJECT','EJECTS','ABJECT','REJECT','OBSESS','JANE','MARK','MARY','FREEDOM','FRENCH','FLEETING','FLOP','VAULT','ACCESS','ARMORY','TARGET','BUFFER','CIRCUIT','ENCRYPT','OVERRIDE','PROTOCOL','SUBSYS','CRYPTO','UPLOAD','BOOTSEQ','FAILSAFE','NETWORK','SECURE','DISARM','ARCHIVE','CLEARANCE','DISPOSAL','EXPUNGED','FACILITY','FORMS','PERMIT','POLICY','QUOTA','RESTRICT','TERMINAL','VAULT-TEC','APPROVED','REJECTED','SUBMIT','RECORDS','OBEY','CONFORM','GLORIOUS','SURVIVAL','PROTECT','LOYALTY','CITIZEN','ISOLATED','HOPELESS','EXILED','ORDERED','MOURNING','EXPIRED','DECEASED','ALERTED','MISTER','ROBCO','RADIO','DINER','NUKA','PIPBOY','ATOMIC','BLISSFUL','OPTIMISM','PRESET','GENERATOR','TRIAGE','HYGIENE','ELEVATOR','HYDROGEN','VAULTDOOR','BYTE','INDEX','LOGIN','CACHE','ERROR','BUNKER','REACTOR','SHELTER','CONTROL','FISSION','CANTEEN'];const f=25;const D=f*2;const l=K.slice(0,f);const m=K.slice(f,D);const L='knob1';const M='knob2';const N='torch';const O=100;let P=0;let Q=0;let a=0;let d=0;let w=null;let n=[];let o=[];return G.run=function(){if(!(b&&bC))throw new Error('Pip-Boy graphics not available!');bC.clear(),_(),T(),a0(),a2(),$(),aa(),R(l,v,2404,n,!0),R(m,y,2608,o,!1),r(c),r(t),r(u),r(q),r(v),r(y),r(j),a9(),x&&clearInterval(x),x=setInterval(a8,X),setWatch(()=>a5(),BTN_POWER,{debounce:50,edge:'rising',repeat:!0})},G}PortaHack().run()