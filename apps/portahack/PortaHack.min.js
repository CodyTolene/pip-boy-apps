function PortaHack(){function W(){b.setColor(q).fillRect(0,0,D,F)}function X(){if(j<0||j>C)throw new Error('Invalid number of attempts remaining: '+j);b.setColor(q).fillRect(e);const a=x.padding;const d=x.textHeight;let c=j+' ATTEMPT(S) LEFT: ';for(let b=0;b<j;b++)c+='['+(b+1)+'] ';b.setColor(n).setFont(u).setFontAlign(-1,-1).drawString(c,e.x1+a,e.y1+d+a)}function i(a){if(!Q)return;b.setColor(T).drawRect(a)}function c(){const j=7;if(c.prevRow!==void 0&&c.prevCol!==void 0){const d=c.prevRow<f;const a=d?m:p;const g=d?0:f;const h=d?s[c.prevRow]:t[c.prevRow-g];const e=a.y1+(c.prevRow-g)*10;const i='0xF'+(2404+c.prevRow).toString(16).padStart(3,'0');b.setColor(q).fillRect(a.x1,e,a.x2,e+10),b.setColor(n).setFont('6x8').setFontAlign(-1,-1),b.drawString(i+' '+h.line,a.x1+2,e)}c.prevRow=h,c.prevCol=r;const a=h<f;const g=a?m:p;const i=a?0:f;const k=a?s[h]:t[h-i];const d=g.y1+(h-i)*10;const e=g.x1+2+(j+r)*6;b.setColor(U).fillRect(e,d,e+6,d+10),b.setColor(n).drawString(k.line[r],e,d)}function Y(){b.setColor(q).fillRect(k);const a='ROBCO INDUSTRIES (TM) '+O+' v'+P+' PROTOCOL';b.setColor(n).setFont(u).setFontAlign(-1,-1).drawString(a.toUpperCase(),k.x1+v.padding,k.y1+v.padding)}function L(d,a,e,f,g){const c=10;b.setFont('6x8').setFontAlign(-1,-1);for(let h=0;h<d.length;h++){const g='0xF'+(e+h).toString(16).padStart(3,'0');const d=f[h];if(!d||(typeof d.line)[1]!='t'){console.log('Missing junk line at index:',h);continue}const i=d.line;const j=a.y1+h*c;b.setColor(n).drawString(g+' '+i,a.x1+2,j)}}function Z(){b.setColor(q).fillRect(l);const a=j<=1;const c=a?'!!! WARNING: LOCKOUT IMMINENT !!!':'ENTER PASSWORD NOW';b.setColor(n).setFont(u).setFontAlign(-1,-1).drawString(c,l.x1+w.padding,l.y1+w.padding)}function M(e,b){const c='{}[]<>?/\\|!@#$%^&*()-_=+;:"\',.`~ABCDEFGHIJKLMNOPQRSTUVWXYZ';let a='';const d=Math.random()*(e-b.length)|0;for(let f=0;f<e;f++)f===d?(a+=b,f+=b.length-1):a+=c[Math.random()*c.length|0];return{line:a,embedAt:d}}function _(b){let a=Date.now();if(a-K<V)return;K=a,b===0||(r=(r+(b>0?1:-1)+12)%12,c())}function $(){N(),o&&clearInterval(o),bC.clear(1).flip(),E.reboot()}function a0(a){h=(h+(a>0?1:-1)+y)%y,c()}function a1(){const a=[1,5,10,15,20];const b=a.findIndex(a=>a===Pip.brightness);const c=(b+1)%a.length;Pip.brightness=a[c],Pip.updateBrightness()}function a2(){BTN_PLAY.read()}function N(){Pip.removeAllListeners(H),Pip.removeAllListeners(I),Pip.removeAllListeners(J)}function a3(){Pip.on(H,_),Pip.on(I,a0),Pip.on(J,a1)}function a4(){const a=z.length;const b=A.length;if(a===0||b===0)throw new Error('Password slices are empty');if(s=z.map(a=>M(12,a)),t=A.map(a=>M(12,a)),s.length!==a||t.length!==b)throw new Error('Mismatch between password lists and junk lines')}const B={};const O='Porta Hack';const P='1.0.0';const Q=!1;const R=16.666666666666668;const C=4;let j=C;let o=null;const d=8;const u='6x'+d;const b=g;const D=g.getWidth();const F=g.getHeight();const a={x1:60,x2:D-60,y1:10,y2:F-10};const v={height:d+4,padding:2,textHeight:d};const k={x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y1+v.height};const w={height:d+4,padding:2,textHeight:d};const l={x1:a.x1,x2:a.x2,y1:k.y2,y2:k.y2+w.height};const x={height:d*3+2+2,padding:2,textHeight:d};const e={x1:a.x1,x2:a.x2,y1:l.y2,y2:l.y2+x.height};const m={x1:a.x1,x2:a.x1+(a.x2-a.x1)*.38,y1:e.y2,y2:a.y2};const p={x1:m.x2,x2:m.x2+(a.x2-a.x1)*.38,y1:e.y2,y2:a.y2};const S={x1:p.x2,x2:a.x2,y1:e.y2,y2:a.y2};const q='#000000';const T='#ffffff';const n='#00ff00';const U='#007f00';const a5='#003300';const G=['HACK','BIKE','HIKE','VOID','VEIN','RAINING','NULL','PULLING','DATA','BAIT','HOARD','ROOTING','HEX','DEBUG','SCRIPT','LOGIC','STACK','ARRAY','OBJECT','STRINGING','BRINGING','MODULE','IMPORT','EXPORT','EVENT','REACT','PACK','BACK','HANK','HARK','HALL','LIKE','PIKE','BAKE','BITE','BIND','VINE','VILE','VOYAGE','MOID','SOIL','GAINING','PAINTED','RAVINGS','MAILING','WAILING','RAILING','ARROW','SUBJECT','EJECTS','ABJECT','REJECT','OBSESS','JANE','MARK','MARY','FREEDOM','FRENCH','FLEETING','FLOP','VAULT','ACCESS','ARMORY','TARGET','BUFFER','CIRCUIT','ENCRYPT','OVERRIDE','PROTOCOL','SUBSYS','CRYPTO','UPLOAD','BOOTSEQ','FAILSAFE','NETWORK','SECURE','DISARM','ARCHIVE','CLEARANCE','DISPOSAL','EXPUNGED','FACILITY','FORMS','PERMIT','POLICY','QUOTA','RESTRICT','TERMINAL','VAULT-TEC','APPROVED','REJECTED','SUBMIT','RECORDS','OBEY','CONFORM','GLORIOUS','SURVIVAL','PROTECT','LOYALTY','CITIZEN','ISOLATED','HOPELESS','EXILED','ORDERED','MOURNING','EXPIRED','DECEASED','ALERTED','MISTER','ROBCO','RADIO','DINER','NUKA','PIPBOY','ATOMIC','BLISSFUL','OPTIMISM','PRESET','GENERATOR','TRIAGE','HYGIENE','ELEVATOR','HYDROGEN','VAULTDOOR','BYTE','INDEX','LOGIN','CACHE','ERROR','BUNKER','REACTOR','SHELTER','CONTROL','FISSION','CANTEEN'];const f=25;const y=f*2;const z=G.slice(0,f);const A=G.slice(f,y);const H='knob1';const I='knob2';const J='torch';const V=100;let K=0;let h=0;let r=0;let a6=null;let s=[];let t=[];return B.run=function(){if(!(b&&bC))throw new Error('Pip-Boy graphics not available!');bC.clear(),W(),N(),Y(),Z(),X(),a4(),L(z,m,2404,s,!0),L(A,p,2608,t,!1),i(a),i(k),i(l),i(e),i(m),i(p),i(S),a3(),o&&clearInterval(o),o=setInterval(a2,R),setWatch(()=>$(),BTN_POWER,{debounce:50,edge:'rising',repeat:!0})},B}PortaHack().run()