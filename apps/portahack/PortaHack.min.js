function PortaHack(){function a1(){b.setColor(q).fillRect(0,0,J,K)}function T(){if(i<0||i>I)throw new Error('Invalid number of attempts remaining: '+i);b.setColor(q).fillRect(s);const a=D.padding;const d=D.textHeight;let c=i+' ATTEMPT(S) LEFT: ';for(let b=0;b<i;b++)c+='['+(b+1)+'] ';b.setColor(k).setFont(A).setFontAlign(-1,-1).drawString(c,s.x1+a,s.y1+d+a)}function t(a){if(!_)return;b.setColor(a0).drawRect(a)}function h(){const p=7;const e=a<f;const g=e?w:z;const j=e?0:f;const i=e?n[a]:o[a-j];const r=i.line;const c=g.y1+(a-j)*10;const t=g.x1+2+(p+d)*6;if(h.prevRow!==void 0&&h.prevCol!==void 0){const c=h.prevRow<f;const a=c?w:z;const e=c?0:f;const g=c?n[h.prevRow]:o[h.prevRow-e];const d=a.y1+(h.prevRow-e)*10;const i='0xF'+(2404+h.prevRow).toString(16).padStart(3,'0');b.setColor(q).fillRect(a.x1,d,a.x2,d+10),b.setColor(k).setFont('6x8').setFontAlign(-1,-1),b.drawString(i+' '+g.line,a.x1+2,d)}h.prevRow=a,h.prevCol=d;const s='0xF'+(2404+a).toString(16).padStart(3,'0');if(b.setFont('6x8').setFontAlign(-1,-1),b.setColor(k).drawString(s+' '+r,g.x1+2,c),d>=i.embedAt&&d<i.embedAt+(e?l[a].length:m[a-j].length)){const f=e?l[a]:m[a-j];const d=g.x1+2+(p+i.embedAt)*6;b.setColor(k).fillRect(d,c,d+f.length*6,c+10),b.setColor(q).drawString(r.substr(i.embedAt,f.length),d,c)}else{const a=g.x1+2+(p+d)*6;b.setColor(k).fillRect(a,c,a+6,c+10),b.setColor(q).drawString(r[d],a,c)}}function a2(){b.setColor(q).fillRect(u);const a='ROBCO INDUSTRIES (TM) '+Y+' v'+Z+' PROTOCOL';b.setColor(k).setFont(A).setFontAlign(-1,-1).drawString(a.toUpperCase(),u.x1+B.padding,u.y1+B.padding)}function a3(){const c=10;const d=Math.floor((p.y2-p.y1)/c);const a=e.slice(-d);b.setColor(q).fillRect(p),b.setFont('6x8').setFontAlign(-1,-1);for(let e=0;e<a.length;e++){const d=p.y2-c*(a.length-e);const f=a[e];b.setColor(k).drawString(f,p.x1+2,d)}}function U(d,a,e,f,g){const c=10;b.setFont('6x8').setFontAlign(-1,-1);for(let h=0;h<d.length;h++){const g='0xF'+(e+h).toString(16).padStart(3,'0');const d=f[h];if(!d||(typeof d.line)[1]!='t'){const a=`Invalid junk line at ${h}: ${JSON.stringify(d)}`;throw new Error(a)}const i=d.line;const j=a.y1+h*c;b.setColor(k).drawString(g+' '+i,a.x1+2,j)}}function V(){b.setColor(q).fillRect(v);let a='';i<=0?a='!!! ACCESS DENIED !!!':i===1?a='!!! WARNING: LOCKOUT IMMINENT !!!':a='ENTER PASSWORD NOW',b.setColor(k).setFont(A).setFontAlign(-1,-1).drawString(a,v.x1+C.padding,v.y1+C.padding)}function W(e,b){const c='{}[]<>?/\\|!@#$%^&*()-_=+;:"\',.`~ABCDEFGHIJKLMNOPQRSTUVWXYZ';let a='';const d=Math.random()*(e-b.length)|0;for(let f=0;f<e;f++)f===d?(a+=b,f+=b.length-1):a+=c[Math.random()*c.length|0];return{line:a,embedAt:d}}function a4(c){let b=Date.now();if(b-Q<P)return;if(Q=b,c===0)G();else{a=(a+(c<0?1:-1)+F)%F;const b=a<f;const g=b?0:f;const e=b?n[a]:o[a-g];const i=b?l[a]:m[a-g];d>=e.embedAt&&d<e.embedAt+i.length&&(d=e.embedAt),h()}}function a5(){let a=Date.now();if(a-R<P)return;R=a,G()}function a6(){X(),y&&clearInterval(y),bC.clear(1).flip(),E.reboot()}function a7(b){if(b===0)G();else{const g=a<f;const i=g?0:f;const c=g?n[a]:o[a-i];const j=g?l[a]:m[a-i];const k=c.line.length;const p=d>=c.embedAt&&d<c.embedAt+j.length;let e=1;p&&(b>0?e=Math.max(1,c.embedAt+j.length-d):e=Math.max(1,d-c.embedAt)),d=(d+(b>0?e:-e)+k)%k,h()}}function a8(){const a=[1,5,10,15,20];const b=a.findIndex(a=>a===Pip.brightness);const c=(b+1)%a.length;Pip.brightness=a[c],Pip.updateBrightness()}function a9(){const a=BTN_PLAY.read();a&&!S&&a5(),S=a}function X(){Pip.removeAllListeners(M),Pip.removeAllListeners(N),Pip.removeAllListeners(O)}function G(){const c=a<f;const g=c?0:f;const b=c?n[a]:o[a-g];const h=c?l[a]:m[a-g];const q=d>=b.embedAt&&d<b.embedAt+h.length;const r=10;const k=Math.floor((p.y2-p.y1)/r);if(i<=0)return;if(q){j=b.line.substr(b.embedAt,h.length);const a=e.findIndex(a=>a==='> '+j);if(a!==-1){const b=e[a+1];e.push('> '+j),b&&b.startsWith('> Likeness')&&e.push(b)}else if(j===x)e.push('> '+j),e.push('> ACCESS GRANTED');else{let a=0;for(let d=0;d<Math.min(j.length,x.length);d++)j[d]===x[d]&&a++;while(e.length>=k-1)e.shift();e.push('> '+j),e.push('> Likeness = '+a),i--,T(),V(),i===0&&e.push('> ACCESS DENIED')}}else j=b.line[d],e.length>=k&&e.shift(),e.push('> ['+j+']');a3()}function aa(){Pip.on(M,a4),Pip.on(N,a7),Pip.on(O,a8)}function ab(){const a=l.length;const b=m.length;if(a===0||b===0)throw new Error('Password lists cannot be empty');if(n=l.map(a=>W(12,a)),o=m.map(a=>W(12,a)),n.length!==a||o.length!==b)throw new Error('Mismatch between password lists and junk lines');const c=l.concat(m);x=c[Math.random()*c.length|0],console.log('Password: ',x)}const H={};const Y='Porta Hack';const Z='1.0.0';const _=!1;const $=16.666666666666668;const I=4;let i=I;let x=null;let d=0;let a=0;let n=[];let o=[];let j=null;let y=null;const r=8;const A='6x'+r;const b=g;const J=g.getWidth();const K=g.getHeight();const c={x1:60,x2:J-60,y1:10,y2:K-10};const B={height:r+4,padding:2,textHeight:r};const u={x1:c.x1,x2:c.x2,y1:c.y1,y2:c.y1+B.height};const C={height:r+4,padding:2,textHeight:r};const v={x1:c.x1,x2:c.x2,y1:u.y2,y2:u.y2+C.height};const D={height:r*3+2+2,padding:2,textHeight:r};const s={x1:c.x1,x2:c.x2,y1:v.y2,y2:v.y2+D.height};const w={x1:c.x1,x2:c.x1+(c.x2-c.x1)*.35,y1:s.y2,y2:c.y2};const z={x1:w.x2,x2:w.x2+(c.x2-c.x1)*.35,y1:s.y2,y2:c.y2};const p={x1:z.x2,x2:c.x2,y1:s.y2,y2:c.y2};let e=[];const q='#000000';const a0='#ffffff';const k='#00ff00';const ac='#007f00';const ad='#003300';const L=['HACK','BIKE','HIKE','VOID','VEIN','RAINING','NULL','PULLING','DATA','BAIT','HOARD','ROOTING','HEX','DEBUG','SCRIPT','LOGIC','STACK','ARRAY','OBJECT','STRINGING','BRINGING','MODULE','IMPORT','EXPORT','EVENT','REACT','PACK','BACK','HANK','HARK','HALL','LIKE','PIKE','BAKE','BITE','BIND','VINE','VILE','VOYAGE','MOID','SOIL','GAINING','PAINTED','RAVINGS','MAILING','WAILING','RAILING','ARROW','SUBJECT','EJECTS','ABJECT','REJECT','OBSESS','JANE','MARK','MARY','FREEDOM','FRENCH','FLEETING','FLOP','VAULT','ACCESS','ARMORY','TARGET','BUFFER','CIRCUIT','ENCRYPT','OVERRIDE','PROTOCOL','SUBSYS','CRYPTO','UPLOAD','BOOTSEQ','FAILSAFE','NETWORK','SECURE','DISARM','ARCHIVE','CLEARANCE','DISPOSAL','EXPUNGED','FACILITY','FORMS','PERMIT','POLICY','QUOTA','RESTRICT','TERMINAL','VAULT-TEC','APPROVED','REJECTED','SUBMIT','RECORDS','OBEY','CONFORM','GLORIOUS','SURVIVAL','PROTECT','LOYALTY','CITIZEN','ISOLATED','HOPELESS','EXILED','ORDERED','MOURNING','EXPIRED','DECEASED','ALERTED','MISTER','ROBCO','RADIO','DINER','NUKA','PIPBOY','ATOMIC','BLISSFUL','OPTIMISM','PRESET','GENERATOR','TRIAGE','HYGIENE','ELEVATOR','HYDROGEN','VAULTDOOR','BYTE','INDEX','LOGIN','CACHE','ERROR','BUNKER','REACTOR','SHELTER','CONTROL','FISSION','CANTEEN'];const f=25;const F=f*2;const l=L.slice(0,f);const m=L.slice(f,F);const M='knob1';const N='knob2';const O='torch';const P=100;let Q=0;let R=0;let S=!1;return H.run=function(){if(!(b&&bC))throw new Error('Pip-Boy graphics not available!');bC.clear(),a1(),X(),a2(),V(),T(),ab(),U(l,w,2404,n,!0),U(m,z,2608,o,!1),t(c),t(u),t(v),t(s),t(w),t(z),t(p),aa(),y&&clearInterval(y),y=setInterval(a9,$),setWatch(()=>a6(),BTN_POWER,{debounce:50,edge:'rising',repeat:!0})},H}PortaHack().run()